
<!DOCTYPE html>
<html>
<head>
    <script src="//cdn.jsdelivr.net/npm/@clappr/player@0.8/dist/clappr.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/@swarmcloud/hls/p2p-engine.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/cssm.css">
    <link rel="stylesheet" href="menu.css">
    <style>body, html {margin: 0;padding: 0;width: 100%;height: 100%;overflow: hidden;}#player {position: absolute;top: 0;left: 0;width: 100%;height: 100%;}</style>
</head>
<body>
<div id="player"></div>
<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"> &times;</a>
  <a "arrow-togglable" href="#">TV 1</a>
  <a "arrow-togglable" href="#">TV 2</a>
  <a "arrow-togglable" href="#">TV 3</a>
  <a "arrow-togglable" href="#">Events 1</a>
</div>

<h2 id="txt">Animated Sidenav Example</h2>
<p>Click on the element below to open the side navigation menu.</p>
<span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; open</span>

<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}
var elements = document.getElementsByClassName("arrow-togglable");
    var currentIndex = 0;
	console.log(elements)
    document.onkeydown = function(e) {
      			document.getElementById("txt").innerHTML=e.key+" "+currentIndex;
      switch (e.keyCode) {
        case 38:
          currentIndex = (currentIndex == 0) ? elements.length - 1 : --currentIndex;
          elements[currentIndex].focus();
          break;
        case 40:
          currentIndex = ((currentIndex + 1) == elements.length) ? 0 : ++currentIndex;
          elements[currentIndex].focus();
          break;
      }
    };
</script>  


    


    
<script>
    var player="";
    var playbackURL = "https://vals88.pricesaskeloadsc.com:443/global/starplus15/index.m3u8?token=f8bd91faf6c80216933fb528328866352dc1c6fe-b6-1735280684-1735244684";
    var p2pConfig = {
        live: true,
        trackerZone: 'us',    
    }
    P2PEngineHls.tryRegisterServiceWorker(p2pConfig).then(() => {
        player = new Clappr.Player({
            source: playbackURL,
            parentId: "#player",
            poster: '',
            width: '100%',
            height: '100%',
            autoPlay: true,
            plugins: [],
        });
        p2pConfig.hlsjsInstance = player.core.getCurrentPlayback()?._hls;
        var engine = new P2PEngineHls(p2pConfig);
    });

  function play(streamUrl){
      player.load(streamUrl);
  }  
</script>

</body>
</html>
